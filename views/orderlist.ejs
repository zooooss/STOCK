<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Order List</title>
        <style>
            * {
                box-sizing: border-box;
                font-family: 'Inter', sans-serif;
            }
            body {
                background: white;
                margin: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                padding-bottom: 50px;
            }

            /* 헤더 스타일은 include로 해결했으므로 삭제 */

            /* 메인 컨테이너 */
            .container {
                width: 100%;
                max-width: 480px;
                padding: 0 20px;
            }

            /* 필터 및 아이템 생성 버튼 영역 */
            .control-bar {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-top: 20px;
                margin-bottom: 10px;
                padding-bottom: 10px;
                border-bottom: 2px solid #111;
            }
            .item-count {
                color: #999;
                font-size: 14px;
                font-weight: 400;
            }
            .btn-group {
                display: flex;
                gap: 10px;
            }
            .btn-filter {
                background: white;
                border: 2px solid #ccc;
                border-radius: 20px;
                padding: 5px 15px;
                font-size: 12px;
                font-weight: 700;
                color: #999;
                cursor: pointer;
            }
            .btn-create {
                background: #111;
                color: white;
                border: none;
                border-radius: 20px;
                padding: 5px 15px;
                font-size: 12px;
                font-weight: 700;
                cursor: pointer;
            }

            /* 아이템 리스트 스타일 (기존 유지) */
            .item-card {
                margin-bottom: 25px;
            }
            .item-title {
                font-size: 14px;
                font-weight: 800;
                margin-bottom: 8px;
                text-transform: uppercase;
            }
            .item-main-row {
                display: flex;
                gap: 5px;
                height: 80px;
                margin-bottom: 5px;
            }

            .box {
                border: 1px solid #ccc;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 10px;
                color: #aaa;
                text-align: center;
            }
            .box-img {
                width: 20%;
                flex-direction: column;
            }
            .box-note {
                width: 35%;
            }

            .btn-add-action {
                width: 25%;
                border: none;
                cursor: pointer;
                color: white;
                font-weight: 700;
                font-size: 12px;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                line-height: 1.2;
            }
            .btn-green {
                background-color: #56a040;
                border: 2px solid #3d7a2b;
            }
            .btn-dark {
                background-color: #1a1b2e;
                border: 2px solid #000;
            }

            .cart-count-box {
                width: 20%;
                background-color: #b88686;
                border-radius: 8px;
                border: 2px solid #a36666;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                color: white;
            }
            .cart-num {
                font-size: 24px;
                font-weight: 700;
            }
            .cart-label {
                font-size: 10px;
                font-weight: 600;
            }

            .item-info-row {
                display: flex;
                gap: 5px;
                height: 25px;
            }
            .info-brand {
                width: 20%;
                background: #111;
                color: white;
                font-size: 10px;
                font-weight: 700;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 2px;
            }
            .info-box {
                border: 2px solid #111;
                background: white;
                font-size: 11px;
                font-weight: 700;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .info-price {
                width: 20%;
            }
            .info-unit {
                width: 20%;
            }
        </style>
    </head>
    <body>
        <%- include('header.ejs') %>

        <div class="container">
            <div class="control-bar">
                <span class="item-count"><%= items.length %> ITEMS LIST</span>
                <div class="btn-group">
                    <button class="btn-filter">FILTER ▼</button>
                    <button class="btn-create" onclick="location.href='/orderlist/create'">CREATE ITEM +</button>
                </div>
            </div>

            <div class="item-list">
                <% if (items.length > 0) { %> <% items.forEach(function(item) { %>
                <div class="item-card">
                    <div class="item-title"><%= item.itemName %></div>
                    <div class="item-main-row">
                        <div class="box box-img">ADD<br />PICTURE</div>
                        <div class="box box-note">ADD NOTES</div>

                        <% if (Math.random() > 0.5) { %>
                        <button class="btn-add-action btn-green">CHAT<br />ADD +</button>
                        <% } else { %>
                        <button class="btn-add-action btn-dark">ADD +</button>
                        <% } %>

                        <div class="cart-count-box">
                            <span class="cart-num"><%= item.cartQuantity || 0 %></span>
                            <span class="cart-label">IN CART</span>
                        </div>
                    </div>

                    <div class="item-info-row">
                        <div class="info-brand">BRAND ▼</div>
                        <div class="info-box info-price">$<%= item.price %> / LB</div>
                        <div class="info-box info-unit"><%= item.unit %></div>
                    </div>
                </div>
                <% }); %> <% } else { %>
                <p style="text-align: center; color: #999; margin-top: 50px">No items yet.</p>
                <% } %>
            </div>
        </div>
    </body>
</html>
